<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <title>DoctorQA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="static/css/chatUI-style.css">
    <link rel="shortcut icon" href="static/icon/doctor.ico">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let userAvatar = localStorage.getItem("user_avatar");
            if (!userAvatar) {
                fetch('/get_user_avatar')
                    .then(response => response.json())
                    .then(data => {
                        localStorage.setItem("user_avatar", data.user_avatar);
                    });
            }
        });
    </script>
</head>
<body>
    <div class="chat-container light-mode">
        <div class="chat-content">
            <div class="chat-header">
                <button id="chatarea-button" style="cursor: pointer;">
                    <img src="static\icon\icons8-menu-50.png" style="object-fit: contain;display: block;width: 24px;height: 24px;"/>
                </button>
                <div class="first-title">
                    <i class="fa fa-stethoscope" style="font-size:25px"></i>DoctorQA
                </div>
                <div class="header-right">
                    <div class="mode-toggle">
                        <label class="switch">
                            <input type="checkbox"
                                   id="mode-toggle-checkbox">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="user-avatar">
                        <img src="static\icon\messi.jpg" class="avatar-image", id="avatar">
                    </div>
                </div>
            </div>
            <div id="multi-chat" style="display: none;">
                <div id="multi-chat-header" style="height: 25px;width: 100%;">
                    <button id="close-multi-chat" style="cursor: pointer;">
                        <img src="static\icon\icons8-sort-left-50.png" style="object-fit: contain;display: block;width: 24px;height: 24px;"/>
                    </button> 
                </div>
                <div style="width: 100%;height: 20px;margin-top: 10px;">
                    <button id="add-new-chatlog" style="cursor: pointer;">
                        <img id="add-new-chatlog-image" src="static\icon\icons8-add-30.png" style="height: 15px;"/>
                        &nbspBắt đầu đoạn chat mới
                    </button>
                </div>
                <div id="chat-log-buttons-container" style="margin-top: 20px;">
                    <label style="font-size: 10pt;
                    font-family: Roboto, sans-serif;
                    font-weight: 700;width: 100%;">Các đoạn chat trước đây</label>
                    <div id="chat-log-list" style="margin-top: 5px;overflow-y: auto;overflow-x: hidden;max-height: 100%;"></div>
                </div>
              </div>
            <div class="chat-box" id="chat-box"></div>
              <div class="before-input-container">
                <div class="input-container" id="input-container-box">
                    <textarea type="text" id="user-input"
                        placeholder="Bắt đầu cuộc trò chuyện"></textarea>
                    <div id = "place-buttons">
                        <button id="think-button" style="flex-direction: row;">
                            <img src="static/icon/icons8-light-64.png" alt="Think" class="think-icon"/>
                        </button>
                        <button id="send-button">
                            <img src="static/icon/icons8-send-64.png" alt="Send" class="send-icon"/>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="/static/js/mainUI.js"></script>
</body>

</html>